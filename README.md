# Trading Bot Package

## 최신 업데이트 (2024-03-21)

### 1. 포지션 사이징 & 레버리지 전략
- **리스크 관리**: 계좌 자산의 2% per Trade
- **포지션 크기**: (자산 × 0.02) ÷ ATR14
- **레버리지 조정**:
  - ATR14 백분위 상위 25% → ×10
  - 중간 50% → ×30
  - 하위 25% → ×50
- **연속 손실 페널티**: 3연패 시 리스크 50% 축소

### 2. 주문 실행 전략
- **지정가(메이커) 주문 우선**
- **비상 시장가 주문**: ADX(14) ≥ 60 시
- **슬리피지 반영**: ±0.02% 가격 가산

### 3. 진입 조건 강화
- **RSI 기준**: 롱 < 25, 숏 > 75
- **MACD 히스토그램**: 4봉 연속 확인
- **스토캐스틱**: 4봉 연속 교차 확인
- **ATR 필터**: ATR14 > EMA(ATR14,10) × 1.3
- **볼린저 밴드**: 1.0% 이상 이탈
- **거래량**: 20MA × 1.5 이상

### 4. 청산 전략
- **익절**:
  - 1단계: +2.0% → 40% 청산
  - 2단계: +6.0% → 100% 청산
- **손절**:
  - 1단계: -1.5% → 30% 청산
  - 2단계: -3.0% → 100% 청산
- **트레일링 스탑**: 2.0% 이상 수익 시 1.5% 트레일링

### 5. 시장 레짐 필터
- **횡보장 필터**: ADX < 20
- **강추세 필터**: ADX ≥ 35
- **멀티 타임프레임 확인**: 1시간, 15분, 5분

## 주요 기능
- 멀티 타임프레임 분석
- 동적 포지션 사이징
- 변동성 기반 레버리지 조정
- 리스크 관리 시스템
- 상세한 거래 로깅

## 설치 및 실행
```bash
pip install -r requirements.txt
python main.py
```

## 설정
`config/settings.py`에서 다음 설정을 조정할 수 있습니다:
- 거래 쌍
- 시간대
- API 키
- 기타 매개변수

## 로깅
- 모든 거래 실행 상세 정보
- 포지션 사이즈 계산 과정
- 레버리지 조정 정보
- 시장 상태 모니터링

## 주의사항
- 실제 거래 전 충분한 백테스팅 수행
- 리스크 관리 설정 확인
- API 키 보안 유지